import maya.cmds as cmds

def average_border_normals(mesh_cells):
    # Iterate over all cells
    for cell in mesh_cells:
        # Get border edges of the current cell
        border_edges = cmds.polyListComponentConversion(cell, toEdge=True, border=True)
        border_edges = cmds.filterExpand(border_edges, selectionMask=32)  # Expand selection to edges only

        # Convert border edges to vertices
        border_verts = cmds.polyListComponentConversion(border_edges, toVertex=True)
        border_verts = cmds.filterExpand(border_verts, selectionMask=31)  # Expand selection to vertices only

        # Average normals for these border vertices
        cmds.select(border_verts)
        cmds.polyNormalPerVertex(normalize=True)

    # Clear the selection
    cmds.select(clear=True)

# Example usage
mesh_cells = ['cell1', 'cell2', 'cell3', ...]  # Replace with your actual cell names
average_border_normals(mesh_cells)
